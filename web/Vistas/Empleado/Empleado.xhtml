<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <body>

    <ui:composition template="./../Template/Template.xhtml">

        <ui:define name="top">

            <h:form id="form">

                <p:separator style="border: none"/>

                <p:dataTable id="data"
                             value="#{empleadoController.lstEmpleado}"
                             var="emp"
                             selectionMode="single"
                             selection="#{empleadoController.empleado}"
                             rowKey="#{emp.codigo}"
                             reflow="true">

                    <f:facet name="header">
                        Lista de Empleados
                    </f:facet>

                    <p:column headerText="DNI">
                        <h:outputText value="#{emp.DNI}"/>
                    </p:column>

                    <p:column headerText="Nombre">
                        <h:outputText value="#{emp.nombre}"/>
                    </p:column>

                    <p:column headerText="Apellido">
                        <h:outputText value="#{emp.apellido}"/>
                    </p:column>

                    <p:column headerText="Usuario">
                        <h:outputText value="#{emp.usuario}"/>
                    </p:column>

                    <p:column headerText="Tipo">
                        <h:outputText value="#{emp.privilegioPintado}"/>
                    </p:column>

                    <f:facet name="footer">
                        <p:commandButton class="btn" value="Actualizar Lista" actionListener="#{empleadoController.listEmpleado()}" update="data"/>
                    </f:facet>

                </p:dataTable>

                <p:commandButton value="Nuevo Empleado" actionListener="#{empleadoController.clean()}" class="btn" oncomplete="PF('NewEmpleado').show();" update=":addform"/>

                <p:contextMenu for="data">
                    <p:menuitem value="Editar" oncomplete="PF('UpdateEmpleado').show();" update=":updateform"/>
                </p:contextMenu>

            </h:form>
            <ui:include src="Add.xhtml"/>
            <ui:include src="Update.xhtml"/>
        </ui:define>

    </ui:composition>

</body>
</html>
